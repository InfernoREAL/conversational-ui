"use strict";!function(){var e={menu:[{title:"Projects",id:"projects",submenu:[{title:"Project 1",id:"p1"},{title:"Project 2",id:"p2"},{title:"Project 3",id:"p3"}]},{title:"Writing",id:"writing",submenu:[{title:"Articles",id:"articles"},{title:"Theses",id:"theses"}]},{title:"Contact",id:"contact",submenu:[{title:"Social media",id:"socialmedia"},{title:"Email",id:"email"},{title:"Address",id:"address"}]}]},t=void 0,n=45e3,o=document.querySelector(".chat"),i=document.querySelector(".content"),a=function(e){var t=arguments.length<=1||void 0===arguments[1]?"user":arguments[1],n=document.createElement("section"),i=function(e,t){setTimeout(function(){e.classList.add("show")},150*t?150*t:10)},a=void 0,s=function(){o.scrollTop+=n.offsetHeight/15};if(n.classList.add("message"),n.classList.add(t),n.innerHTML="<p>"+e+"</p>",o.appendChild(n),a=window.setInterval(s,10),setTimeout(function(){window.clearInterval(a)},300),setTimeout(function(){n.classList.add("show")},10),"user"===t){for(var c=o.querySelectorAll("button:not(:disabled)"),r=0;r<c.length;r+=1)i(c[r],r);n.classList.add("active")}},s=function(e){return e[Math.floor(Math.random()*e.length)]},c=function(){var e=document.querySelector(".active"),t=["Did you fall asleep? &#x1F634;","Coffee break? &#x2615;","Still there?","&#x2744; &#x1F331; &#x1F31E; &#x1F342;"];e&&e.parentNode.removeChild(e),a(s(t),"bot"),setTimeout(function(){var e=['Don\'t like this conversation? Send an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a> if you want a real one. &#x1F680;','Not finding what you\'re looking for? Send an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a> with any questions...','Wanna talk to a real person? &#x1F4AC; Fire off an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a>. &#x1F525;'];a(s(e),"bot"),setTimeout(function(){var e=["Where's the normal web page? &#x1F61E;","I want a regular web page &#x1F631;","Do you have a regular website? &#x1F63B;"],t=["Show me the options again please &#x2705;","Ok, go! &#x1F697;","I wanna check something &#x1F44D;"];a('<button class="choice newmenu showinfo">'+s(e)+'</button><br /><button class="choice newmenu showmenu">'+s(t)+"</button>")},300)},500)},r=function(){var e=["Hello! &#x1F44B; I'm Mike, a medical librarian working at Karolinska Institutet. I try to create the best user experiences possible, both physical and virtual, using humour, friendliness, web technologies and good design."];t=window.setInterval(function(){window.clearInterval(t),c()},n),a(s(e),"bot"),setTimeout(function(){var e=["Hey, tell me more! &#x1F680;","Hi! &#x1F440;","I'll bite &#x1F604;"];a('<button class="choice start">'+s(e)+"</button>")},300)},u=function(e){e.parentNode.parentNode.classList.add("selected"),e.parentNode.parentNode.classList.remove("active"),e.parentNode.innerHTML=e.textContent},l=function(i){var r="",l=o.querySelector("button.newmenu"),d=["Here's a few things what I can tell you about... &#x1F3A4;","Ok, check this out! &#x1F447;","Anything else you're interested in? &#x1F64F;"],m=["What would you like to know more about? &#x1F4A1;","Can I interest you in any of this? &#x1F4AF;","Select something of the following... &#x1F447;"];l&&u(l),setTimeout(function(){i?a(s(d),"bot"):a(s(m),"bot"),e.menu.forEach(function(e,t){r+='<button class="choice menu" data-submenu="'+t+'">'+e.title+"</button>"}),setTimeout(function(){a(r)},500)},500),t=window.setInterval(function(){window.clearInterval(t),c()},n)},d=function(t){var n="",o=e.menu[t.getAttribute("data-submenu")],i=["&#x1F44D; Here's what I have on that...","See anything interesting? &#x1F648;","Any of this cool?"],c=["I wanna read about something other than "+o.title.toLowerCase()+" &#x1F61C;","Show me the menu again &#x1F60B;",o.title+" was interesting, but show me something else... &#x1F612;"];a(s(i),"bot"),o.submenu.forEach(function(e){n+='<button class="choice submenu" data-example="'+o.id+"-"+e.id+'">'+e.title+"</button>"}),n+='<br /><button class="choice submenu newmenu">'+s(c)+"</button>",setTimeout(function(){a(n)},500)},m=function(e){if(e.classList.contains("newmenu"))l(!0);else{var t=document.getElementById(e.getAttribute("data-example"));t.classList.add("show"),i.classList.add("show")}},h=function(){i.classList.remove("show"),setTimeout(function(){var e=document.querySelector(".content article.show");e&&e.classList.remove("show")},300)};document.addEventListener("click",function(e){if(e.target.classList.contains("choice")&&(window.clearInterval(t),e.target.classList.contains("submenu")||u(e.target),e.target.classList.contains("menu")&&d(e.target),e.target.classList.contains("submenu")&&m(e.target),e.target.classList.contains("start")&&l(),e.target.classList.contains("showmenu")&&l(!0),e.target.classList.contains("showinfo"))){var n=["Here's my website ","Here you go: ","Check this one out "];a(s(n)+' <a target="_new" href="https://librarian.codes">https://librarian.codes</a>',"bot"),setTimeout(function(){var e=["OK &#x1F60E;","How do I get back? &#x1F312;","Ok, thanks! &#x1F44C;"];a('<button class="choice newmenu showmenu">'+s(e)+"</button>")},300)}e.target.classList.contains("close")&&h()}),document.addEventListener("keydown",function(e){27===e.keyCode&&h()}),setTimeout(function(){r()},500)}();